---
title: "June 2015 Top500, Green500, and Exascalar"
author: "Winston Saunders"
date: "Sept 16, 2015"
output: 
  html_document:
    keep_md: true
    toc: true
    number_sections: false
---
---


#Summary

While the #1 performing supercomputer in the Top500 has not changed in the last _five_ publications of the Top500 list (since Jun 2013), the population of the Top500 and Green500 list has been far from stagnant.  

Exascalar explores the full richness of this data thru simple "data visuaization" which in this case is a fancy name for plotting. 
 
Several new analyses, suggested by others thru email and twitter, have been added. Notably, graphs looking at core counts and GPU architecture reveal insights into differentiation among different super computers. 


##Reach me
While source code is made freely available on Github, I welcome suggestions for additional anlayses (or even half-baked experiments) which might be of interest. You can reach me via twitter [\@WinstonOnEnergy](https://twitter.com/WinstonOnEnergy)

##Disclaimer
This analysis is done independently and reflects my opinions alone. In particular, it in no way reflects opinions of my employer (Intel Corporation) or any other entity with which I'm affiliated.

##Background

Supercomputer leadership requires both extreme scale and high efficiency. The [Green500](http:\\green500.org) and [Top500](http:\\top500.org) lists are excellent resources for understanding this. But they are both, well, lists, which makes it hard to recognize trends and correlations. 
The approach here is to leverage data visualization techniques to explore some of the richness of the combined high quality data contained in both lists. While the Top500 emphasizes highest performance, and the Gree500 emphasizes the highest efficiency, [Exascalar](http://www.datacenterknowledge.com/archives/2012/07/10/june-2012-exascalar-efficiency-dominates-hpc/) analysis is conceived as a way to visualize supercomputer efficiency and performance in one coherent picture. 

The name Exascalar originates from the goal of achieving an exaflops, $10^{12}$ mflops, in an envelope of $20$ MWatt. Exascalar is a logarithmic parametric indicator of progress in efficiency and performance along an iso-power line toward this goal. You can actually [Google it](http://www.google.com/webhp?hl=en#safe=off&hl=en&q=Exascalar). 


#June 2015 Exascalar 

```{r "readData function", echo=FALSE}        
#         ## define a read_data function which will be used to pull data from my gitbhub acct
#         ## 
#         library(RCurl)
#         readData <- function(path.name, file.name, column.types, missing.types) {
#                 ## create URL from path and file names
#                 myData<-getURL(paste0(path.name, file.name) )
#                 ## read the data
#                 read.csv(textConnection(myData),
#                 colClasses=column.types,
#                 na.strings=missing.types )
#                 
#             }

```



```{r, echo=FALSE, warning=FALSE}

#         file.path <- "https://raw.githubusercontent.com/ww44ss/public_art/master/"
#         data.file <- "public_art_edited.csv"
#         data.zip <- "public_art.zip"
#         missing.types <- c("NA", "")
    
```

```{r, echo=FALSE}

## This program imports cleaned data from the Green500 and Top500 lists


## GET THE CLEANED DATA

    ##check for Exascalar Directory. If none exists stop program with error
    ##check to ensure results director exists

    if(getwd()!="/Users/winstonsaunders/Documents/Exascalar") setwd("/Users/winstonsaunders/Documents/Exascalar")

    #if(!file.exists("./results")) stop("Data not found in directory Exascalar, first run Exascalar_Cleaner to get tidy data")


    ## set working directory


# define Data Directories to use
results <- "./results"

## ------------------------
## Read results files

# import data set

## there are probably ways to simplify this code but this brute force method is easy to read.

BigEx <- read.csv(paste0(results, "/BigExascalar.csv"), header=TRUE)
Jun15 <- read.csv(paste0(results, "/Jun15_merged.csv"), header=TRUE)
Jun15$Date<-rep("Jun 2015", nrow(Jun15))

Nov14 <- read.csv(paste0(results, "/Nov14_merged.csv"), header=TRUE)
Jun14 <- read.csv(paste0(results, "/Jun14_merged.csv"), header=TRUE)
Nov12 <- read.csv(paste0(results, "/Nov12_merged.csv"), header=TRUE)
Jun13 <- read.csv(paste0(results, "/Jun13_merged.csv"), header=TRUE)




## Add some date identifiers to the data


Nov14$Date<-rep("Nov 2015", nrow(Nov14))
Jun14$Date<-rep("Jun 2014", nrow(Jun14))
Nov12$Date<-rep("Nov 2012", nrow(Nov12))
Jun13$Date<-rep("Jun 2013", nrow(Jun13))


```


##June 2015 Exascalar Plot

The easiest way to visualize change in the Top500 and Green500 lists is to overlay the Exascalar plots of November 2014 with that of June 2015.  

In the plot below points from June 2015 are smaller red dots, points with empty blue circles are computers that are no longer on the list, and red points with blue circles around them are computers on both lists. Changes are clearly visible. While the highestperformance computer did not change, changes within the population as well as at the extremes of efficiency are evident.   

```{r, echo=FALSE, fig.align='center', fig.height=7.25, fig.width=8}
## EXASCALAR PLOT OVERLAYING TWO LISTS

## plots "reference" list first, then "list of current interest" is overlayed

library(ggplot2)

```


```{r, echo=FALSE, fig.align='center', fig.height=7.25, fig.width=8}

## EXASCALAR PLOT


    ## select plot dates
    date1 = "2015-06-01"
    date2 = "2014-11-01"

    ## combine dates into single string
    plot_dates<-c(date1,date2)
    plot_dates<-paste(plot_dates, collapse = "|")


    ## grepl the plot dates
    BigExPlot<-BigEx[grepl(plot_dates, as.character(BigEx$date)),]

    ## sort into reverse order (to print in order oldest->newest)
    BigExPlot <- BigExPlot[rev(rownames(BigExPlot)),]


    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigExPlot, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=date, pch=date, size=date))
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8)

    p <- p + scale_colour_manual(name='List',values=c("2015-06-01"="darkred","2014-11-01"="blue"))
    p <- p + scale_shape_manual(name='List',values=c("2015-06-01"=20,"2014-11-01"=1))
    p <- p + scale_size_manual(name='List',values=c("2015-06-01"=4,"2014-11-01"=4))

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=14, color="black"),
        axis.title=element_text(size=14), 
        plot.title = element_text(size=18, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey92'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey92"),
        panel.grid.minor = element_line(colour = "grey92")
        )


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 Exascalar")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=3.3)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3.6)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3.6)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ## draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```

###Reaching back: Comparing to June 2013

To emphasize the massive changes in the population of the top supercomputers, it's instructive to compare not only to the last iteration, but also the last iteration where the #1 Supercomputer changed, two years ago in June 2013. In intervening years the minimum perforamnce needed to make the Top500 has increased over 50%. In addition, the maximum efficiency has increased by about the same magnitude. This neatly emphasizes why the _population_ holds as much (and perhaps more) interest as the top one or two systems. 

```{r, echo=FALSE, fig.align='center', fig.height=7.25, fig.width=8}

## EXASCALAR PLOT


    ## select plot dates
    date1 = "2015-06-01"
    date2 = "2013-06-01"

    ## combine dates into single string
    plot_dates<-c(date1,date2)
    plot_dates<-paste(plot_dates, collapse = "|")


    ## grepl the plot dates
    BigExPlot<-BigEx[grepl(plot_dates, as.character(BigEx$date)),]

    ## sort into reverse order (to print in order oldest->newest)
    BigExPlot <- BigExPlot[rev(rownames(BigExPlot)),]


    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigExPlot, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=date, pch=date, size=date))
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8)

    p <- p + scale_colour_manual(name='List',values=c("2015-06-01"="darkred","2013-06-01"="darkgreen"))
    p <- p + scale_shape_manual(name='List',values=c("2015-06-01"=20,"2013-06-01"=1))
    p <- p + scale_size_manual(name='List',values=c("2015-06-01"=4,"2013-06-01"=4))

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=14, color="black"),
        axis.title=element_text(size=14), 
        plot.title = element_text(size=18, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey92'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey92"),
        panel.grid.minor = element_line(colour = "grey92")
        )


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 Exascalar")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=3.3)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3.6)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3.6)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3.6)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3.6)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ## draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```

##Key Indicators June 2015 Lists

Exascalar, as visulaized by above, is descriptive of the _population_ of supercomputers. Here ia a list of some of the key systems. Note that Exascalar spans from the highest performance to the lowest efficiency system.

```{r, echo=FALSE}

Temp_New<-as.data.frame(Jun15)
Temp_Old<-as.data.frame(Nov14)

TopPerformance <- Temp_New[Temp_New$rmax==max(Temp_New$rmax), c(3,4,5,6,7,8,9)]

TopEfficiency <- Temp_New[Temp_New$mflopswatt==max(Temp_New$mflopswatt), c(3,4,5,6,7,8,9)]
HighestPower <- Temp_New[Temp_New$power.g==max(Temp_New$power.g), c(3,4,5,6,7,8,9)]
LowestPerformance <- Temp_New[Temp_New$rmax==min(Temp_New$rmax), c(3,4,5,6,7,8,9)]
LowestEfficiency <- Temp_New[Temp_New$mflopswatt==min(Temp_New$mflopswatt), c(3,4,5,6,7,8,9)]
LowestPower <- Temp_New[Temp_New$power.g==min(Temp_New$power.g), c(3,4,5,6,7,8,9)]
HighestExascalar<- Temp_New[Temp_New$ExaRank==min(Temp_New$ExaRank), c(3,4,5,6,7,8,9)]
LowestExascalar<- Temp_New[Temp_New$ExaRank==max(Temp_New$ExaRank), c(3,4,5,6,7,8,9)]

BoundsTable<-rbind( "Top Exascalar"= HighestExascalar, "Bottom Exascalar" = LowestExascalar,"Top Performance" = TopPerformance, "Top Efficiency" = TopEfficiency, "Low Efficiency"=LowestEfficiency)

colnames(BoundsTable)<- c("Exa Rank", "Exascalar", "Performance Rank", "Efficiency Rank", "rmax (mflops)", "power (kW)", "efficiency (mflops/Watt)")

```

```{r, echo=FALSE, results="asis", fig.align='center', message=FALSE}

library(xtable)
temptable<-xtable(BoundsTable)
print(temptable, type="html", size="small")



```



##Key New Entrants June 2015 

Of the _new_ entrants its interesting to note the same parameters as above as a kind of bound on the population of the newest systems. It's interesting to note in this particular year new systems occupy both the highest and lowest efficiency. 

```{r, echo=FALSE} 


NewList<-Temp_New[!(Temp_New$exascalar %in% Temp_Old$exascalar),]

#print(head(NewList))

```


The median Exascalar of the New Computers is `r round(median(NewList$exascalar),2)` compared to the median of all computers on the June 2015 list `r round(median(Temp_New$exascalar),2)` and the November 2014 list `r round(median(Temp_Old$exascalar),2)`.


<style>

table { 
    display: table;
    border-collapse: collapse;
    border-spacing: 10px;
    border-color: gray;
    background-color: #a1b2c3;
    text-align: center
    font: 12px arial, sans-serif;
}
th, td {
    
    padding: 5px;
}
</style>


```{r, echo=FALSE, results="asis", fig.align='center', message=FALSE}

require(xtable)

TopPerformance <- NewList[NewList$rmax==max(NewList$rmax), c(3,4,5,6,7,8,9)]
TopEfficiency <- NewList[NewList$mflopswatt==max(NewList$mflopswatt), c(3,4,5,6,7,8,9)]
HighestPower <- NewList[NewList$power==max(NewList$power.g), c(3,4,5,6,7,8,9)]
LowestPerformance <- NewList[NewList$rmax==min(NewList$rmax), c(3,4,5,6,7,8,9)]
LowestEfficiency <- NewList[NewList$mflopswatt==min(NewList$mflopswatt), c(3,4,5,6,7,8,9)]
LowestPower <- NewList[NewList$power==min(NewList$power.g), c(3,4,5,6,7,8,9)]
HighestExascalar<- NewList[NewList$ExaRank==min(NewList$ExaRank), c(3,4,5,6,7,8,9)]
LowestExascalar<- NewList[NewList$ExaRank==max(NewList$ExaRank), c(3,4,5,6,7,8,9)]



BoundsTable<-rbind("Top Exascalar"= HighestExascalar,"Top Performance" = TopPerformance, "Top Efficiency" = TopEfficiency )

colnames(BoundsTable)<- c("Exa Rank", "Exascalar", "Performance Rank", "Efficiency Rank", "rmax (mflops)", "power (kW)", "efficiency (mflops/Watt)")


temptable<-xtable(BoundsTable)
print(temptable, type="html", size="small")
```


#Trends

Exascalar is useful for visualizing trends in the population. The graphs below illustrate how top efficiency and performance have evolved over the last several years. 

##Efficiency of Top-Efficiency and Top-Performance Systems

THe trend of the Efficiency of the #1 Top500 and the T #1 Green500 lists is interesting in that is shows "fits and starts" of the Top500 systme as it jumps to new tiers of efficiency versus the stead evolution of the Green500 systems. It's interesting to note that the gap in efficiency between the two systems appears to be at an alltime high, suggesting another jump may soon be in our future.

```{r, 'date trend eff', echo=FALSE, fig.align="center"}

    ##
    ## Generate graph of delta between efficiency of top performance and top efficiency system.

    
    ## get unique dates
    all_dates<-unique(BigEx$date)
    
    Eff_df<-NULL

    ##select appropriate systems for each date
    for (i in all_dates) {
        
        Ex<-BigEx[BigEx$date==i,]
        
        Ex$rmax<-as.numeric(Ex$rmax)
        Ex$mflopswatt<-as.numeric(Ex$mflopswatt)
        ## get rid of incomplete cases...
        Ex<-Ex[complete.cases(Ex),]
        max_eff<-max(Ex$mflopswatt)[1]
        eff_max_perf<-Ex$mflopswatt[Ex$rmax==max(Ex$rmax)][1]
         
        xx<-c(i, max_eff, "Green500")
        
        yy<-c(i, eff_max_perf, "Top500")

        Eff_df<-rbind(Eff_df, xx,yy)
        
    }
    
    ## clean up and put into data frame
    rownames(Eff_df)<-1:nrow(Eff_df)
    colnames(Eff_df)<-c("date", "mflopswatt", "List")
    
    
    Eff_df<-as.data.frame(Eff_df)
    
    ## make elements numberic
    Eff_df$mflopswatt<-as.numeric(as.character(Eff_df$mflopswatt))
    ## clean up dates
    Eff_df$date<-substring(Eff_df$date, 1, 7)
    
    ## create plot
    q <- ggplot(Eff_df, aes(x=date, y = log10(mflopswatt), color=factor(List), shape=factor(List)))
    q <- q + geom_point(size=4)
    
    q <- q + theme(
        axis.text=element_text(size=12, color="black"),
        axis.title=element_text(size=14), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey90'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "white"),
        panel.grid.minor = element_line(colour = "white"),
        legend.title=element_blank(),
        axis.text.x = element_text(angle = 45, hjust = 1)
        )
    
    q <- q + coord_cartesian(ylim=c(2.2, 4.2)) 
    q <- q + scale_y_discrete(breaks = c(2.7,3,3.7,4),label=c("5e+02", "1e+03", "5e+03", "1e+04"))
    
    q <- q + scale_color_manual(values = c("darkgreen", "darkred"))
    q <- q + scale_shape_manual(values = c (19, 15))
    
    q<- q + ggtitle("Top Efficiency (Green500) and \n Efficiency of Top Performance (Top500)")
    
    print(q)


```

##Exascalar of Top-Efficiency and Top-Performance Systems

We can also look at progress of the top systems along the Exascalar parameter. Note here that jumps in the Top500 correlate to when the Green500 system is closest to the Top500 curve. It's not surprising (indeed it is expected), but the visualization helps highlight the behavior. 

```{r, 'date trend exa', echo=FALSE, fig.align="center", warning=FALSE}

    ## PLOT EXASCALAR TREND
    ## Generate graph of delta between efficiency of top performance and top efficiency system.

    all_dates<-unique(BigEx$date)
    
    Eff_df<-NULL

    for (i in all_dates) {
        
        Ex<-BigEx[BigEx$date==i,]
        
        Ex$rmax<-as.numeric(Ex$rmax)
        Ex$mflopswatt<-as.numeric(Ex$mflopswatt)
        ## select columns
        ## add [1] to ensure multiple items not selected
        max_eff<-Ex$exascalar[Ex$mflopswatt==max(Ex$mflopswatt)][1]
        max_perf<-Ex$exascalar[Ex$rmax==max(Ex$rmax)][1]
#         
        xx<-c(i, max_eff, "Green500")
        yy<-c(i, max_perf, "Top500")
        
        Eff_df<-rbind(Eff_df, xx,yy)
        
    }
    
    rownames(Eff_df)<-1:nrow(Eff_df)
    colnames(Eff_df)<-c("date", "exascalar", "List")
    
    
    Eff_df<-as.data.frame(Eff_df)
    
    ## make elements numberic
    Eff_df$exascalar<-as.numeric(as.character(Eff_df$exascalar))
    ## clean up dates
    
    Eff_df$date<-substring(Eff_df$date, 1, 7)
    
    
    #print(Eff_df)
    
    q <- ggplot(Eff_df, aes(x=date, y = exascalar, color=factor(List), shape=factor(List)))
    q <- q + geom_point(size=4)
    
    q <- q + theme(
        axis.text=element_text(size=12, color="black"),
        axis.title=element_text(size=14), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey90'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "white"),
        panel.grid.minor = element_line(colour = "white"),
        legend.title=element_blank(),
        axis.text.x = element_text(angle = 45, hjust = 1)
        )
    
    #q <- q + coord_cartesian(ylim=c(-5, 0)) 
    #q <- q + scale_y_discrete(breaks = -5:0,label=c("-5", "-4", "-3", "-2", "-1", "0"))
    
    q <- q + scale_color_manual(values = c("darkgreen", "darkred"))
    q <- q + scale_shape_manual(values = c (19, 15))
    
    q<- q + ggtitle("Exascalar Trend \n Top Efficiency (Green500) & Top Performance (Top500)")
    
    print(q)


```

##Technology Trends

In this section we visually explore different influencers of the supercomputer populations. Some of these graphs were "requests" and others are just interesting. 

###Cores Per Socket

This graph, showing the the side by side comparison of the November 2012 and current June 2015 plots shows clearly the evolution in cores per socket as a shift to redder data points in the latter graph. This encodes the __coressocket__ data from the Top500 list.  
Te side-by-side comparison here also highlights how the IBM Power systems, so dominant in both efficiency and performance, in the Novermber 2012 list, have been matched and now exceeded by alternative architectures. In particular, the role of GPU and GPU architecture will become apparent in the analysis below.  

```{r, echo=FALSE, fig.align='center', fig.height=6.25, fig.width=8, warning=FALSE}

## EXASCALAR PLOT


    ## Make sure both dataframes have the same columns
    common_columns <- intersect(names(Jun15), names(Nov12))

    BigData<-rbind(Nov12[, common_columns],Jun15[, common_columns])
    
    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigData, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=coressocket.t))
    
    p <- p + facet_grid(.~Date)
                
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8, size=3, pch=20)
    p <- p + scale_color_gradient(name="Cores Per Socket", low="blue2", high="red", na.value="grey50")
    

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=10, color="black"),
        axis.title=element_text(size=10), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey92'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey92"),
        panel.grid.minor = element_line(colour = "grey92"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position="bottom"
        )


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 and November 2012 Exascalar (Cores Per Socket)")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=2)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ##draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```


###Processor

The processor plays a big role in the supercomputer. Here, to simplify, I have taken the __processorgeneration__ data and simplified it to capture only the manufacturer. The near ubiquity of Intel processors is evident.

```{r, echo=FALSE, fig.align='center', fig.height=7.0, fig.width=5.7, warning=FALSE}

## EXASCALAR PLOT
    
    BigData<-Jun15 #rbind(Nov14,Jun15)
    
    
    ## clean up processorgeneration
    BigData$processorgeneration.t<-gsub(".*Xeon.*", "Intel Xeon", BigData$processorgeneration.t)
    BigData$processorgeneration.t<-gsub("SPARC.*", "SPARC", BigData$processorgeneration.t)
    BigData$processorgeneration.t<-gsub("Opteron.*", "Opteron", BigData$processorgeneration.t)
    BigData$processorgeneration.t<-gsub("Power.*", "Power", BigData$processorgeneration.t, ignore.case = TRUE)
    BigData$processorgeneration.t<-gsub("Power7.*", "Power", BigData$processorgeneration.t, ignore.case = TRUE)
    
    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigData, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=factor(processorgeneration.t)))
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8, size=4, pch=20)
    
    
    p <- p + scale_colour_manual(name= "Processor", values=c("blue2", "green4", "red2", "firebrick", "darkgoldenrod4"))

    #p <- p + scale_colour_manual(name='List',values=c("2015-06-01"="darkred","2014-11-01"="blue"))
    #p <- p + scale_shape_manual(name='List',values=c("2015-06-01"=20,"2014-11-01"=1))
    #p <- p + scale_size_manual(name='List',values=c("2015-06-01"=4,"2014-11-01"=4))

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=12, color="black"),
        axis.title=element_text(size=12), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey80'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey80"),
        panel.grid.minor = element_line(colour = "grey80"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position="bottom")


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 Exascalar (Processor)")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=2)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ##draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```

###Accelerator Co-Processor

Encoding the __aceeleratorcoprocessor__ data from the Green500 list highlights interesting differentiation among different manufacturers very clearly. For the sake of clarity list elements have been reduced to just the manufacturer.

```{r, echo=FALSE, fig.align='center', fig.height=7.0, fig.width=5.7, warning=FALSE}

## EXASCALAR PLOT

    BigData<-Jun15 
    ## clean up date
    BigData$date<-substring(BigData$date, 1, 7)
    ## clean up processorgeneration
    
    
    BigData$acceleratorcoprocessor.g<-gsub(".*Phi.*", "Xeon Phi", BigData$acceleratorcoprocessor.g, ignore.case=TRUE)
    
    BigData$acceleratorcoprocessor.g<-gsub("ATI.*", "ATI", BigData$acceleratorcoprocessor.g, ignore.case=TRUE)
    
    BigData$acceleratorcoprocessor.g<-gsub(".*Firepro.*", "Firepro", BigData$acceleratorcoprocessor.g, ignore.case=TRUE)
    
    BigData$acceleratorcoprocessor.g<-gsub("Nvidia.*", "nVidia", BigData$acceleratorcoprocessor.g, ignore.case=TRUE)
    
    
    
    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigData, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=factor(acceleratorcoprocessor.g)))
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8, size=4, pch=20)
    
    p <- p + guides(fill=guide_legend(nrow=2,byrow=TRUE))
    
    p <- p + scale_colour_manual(name = "GPU", values=c("red2", "orange", "grey55", "darkgreen", "purple2", "blue2"))
    #p <- p + guides(fill=guide_legend(nrow=2,byrow=TRUE))
    
    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=12, color="black"),
        axis.title=element_text(size=12), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey80'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey80"),
        panel.grid.minor = element_line(colour = "grey80"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position="bottom"
        )


    
    
    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 Exascalar (Coprocessor)")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=2)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ##draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```

###Total Number of Cores

Another interesting trend is the total number of cores. Since this is an extrinsic parameter, we encode the logarithm. Again, the shift up in performance, and the shift toward higher overall core count is apparent. The __totalcores__ data from the Top500 list are used.

```{r, echo=FALSE, fig.align='center', fig.height=6.25, fig.width=8, warning=FALSE}

## EXASCALAR PLOT


    ## Make sure both dataframes have the same columns
    common_columns <- intersect(names(Jun15), names(Nov12))

    BigData<-rbind(Nov12[, common_columns],Jun15[, common_columns])
    
    
    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigData, aes(x=log10(mflopswatt), y=log10(rmax.g*10^3), color=log10(totalcores.t)))
    
    p <- p + facet_grid(.~Date)
                
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.9, size=3, pch=20)
    p <- p + scale_color_gradient(name="Log10(Cores)", low="green2", high="purple2", na.value="grey50")
    

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=10, color="black"),
        axis.title=element_text(size=10), 
        plot.title = element_text(size=14, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey92'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey92"),
        panel.grid.minor = element_line(colour = "grey92"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position="bottom"
        )


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 and November 2012 Exascalar (Total Cores)")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=2)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ##draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "darkblue", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```


###Accelerator Processor Cores

Here we can see where Accelerator Processors (GPUs) are making their way into the Top500 population. While high core count systems play an obvious role in high perfoormance, lower core counts have an interesting play at the high efficiency end (even if they have not yet achieved scale). Here the __acceleratorcoprocessor__ data from the Top500 are encoded.

```{r, echo=FALSE, fig.align='center', fig.height=7.0, fig.width=5.7, warning=FALSE}

## EXASCALAR PLOT

    BigData<-Jun15 
    ## clean up date
    
    
    
    ## CREATE EXASCALAR PLOT
    ## take the log of the data points explicitly rather than use a log-scale command
    p <- ggplot(BigData, aes(x=log10(mflopswatt), y=log10(rmax*10^3), color=log10(acceleratorcoprocessorcores.t)))
    
    ## Define plot points and symbols
    ## alpha = 0.8 helps visually recognize where points overlap
    p <- p + geom_point(alpha=0.8, size=4, pch=20)
    
    p <- p + scale_color_gradient(name="Log10(GPU cores)",low="blue", high="red", na.value="grey60")
    

    ## set plot theme
    p <- p + theme(
        axis.text=element_text(size=12, color="black"),
        axis.title=element_text(size=14), 
        plot.title = element_text(size=16, face="bold", vjust=2),
        panel.background = element_rect(fill = 'grey80'),
        axis.title.x = element_text(color="black", vjust=-0.45),
        axis.title.y = element_text(color="black" , vjust=0.45),
        panel.grid.major = element_line(colour = "grey80"),
        panel.grid.minor = element_line(colour = "grey80"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position="bottom"
        )


    ##Set plot dimensions and label axes
    p <- p + coord_cartesian(xlim = c(.9, 5.1), ylim=c(7.5, 12.5)) 
    p<-p+labs(x="Efficiency (MFlops/Watt)", y="Performance (Mflops)")

    ## add axis scale labels and title
    p <- p + scale_x_discrete(breaks = 1:5, labels=c("1e+01","1e+02","1e+03","1e+04","1e+05")) 
    p <- p + scale_y_discrete(breaks = 8:12, labels=c("1e+08","1e+09","1e+10","1e+11","1e+12")) 
    p <- p + ggtitle("June 2015 Exascalar (GPU Cores)")

    ## annotate source

    p <- p + annotate("text", x = 3.9, y= 7.6, label = "sources:~Top500.org~and~Green500.org", parse=TRUE, angle=0, size=2)

    ## add Epsilon values for Exascalar
    p <- p + annotate("text", x=4.64, y= 12.2, label = "epsilon == 0", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=3.44, y= 12.1, label = "epsilon == -1", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=2.08, y= 12, label = "epsilon == -2", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.30, y= 11.40, label = "epsilon == -3", parse=TRUE, angle= -45, size=3)
    p <- p + annotate("text", x=1.18, y= 10.11, label = "epsilon == -4", parse=TRUE, angle= -45, size=3)

    ## add Power annotation
    p <- p + annotate("text", x=4.18, y= 11.70, label = "20 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 11.10, label = "2.0 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 10.10, label = "0.2 MWatt", parse=F, angle= 45, size=3)
    p <- p + annotate("text", x=4.58, y= 9.10, label = "20 kWatt", parse=F, angle= 45, size=3)

    ## Add POWER AND EXASCALAR Lines

    ## define powerline function as a function of megawatts
    isopowerline_ab <- function(megawatts)
        {a<-log10(megawatts*10^6)  #*sqrt(2)
        return(a)
        }
  
    ## compute Exascale
    LogExaPerf <- log10(10^12)              ##in Megaflops
    LogExaEff  <- log10(10^12/(20*10^6))    ##in Megaflops/Watt
    
    LogExascale = LogExaPerf+LogExaEff
    
    ## define exascalar line function as a function of Exascalar value
    
    isoexaline_ab <- function(exascalar)
        {
        a <- LogExascale+exascalar*((sqrt(2)))
        return(a)
        }
    
    ## draw the power lines
    for (i in -1:2){
    p <- p + geom_abline(intercept=isopowerline_ab(2*10^-i), colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
    #print(p)
    
    ##draw the exascalar lines
    for (i in 0:7) {
        p <- p + geom_abline(intercept = isoexaline_ab(-i), slope=-1, colour = "grey95", size = 0.5, alpha=0.5, linetype=2)
    }
  
    ## print the graph
    print(p)

```


#Summary

While the #1 Supercomputer has remained unchanged for two years, the technology of supercomputing is undergoing rapid evolution. Based on historical trends, another push to higher performance seems overdue.  

Cores per socket are driving a large part of the gains, while GPU architecture and total cores play an evident role in pushing to higher efficiency and greater performance.  

##Final Query
In looking at the Top500 and Green500 data thru the lens of Exascalar, systems with exascalar $\epsilon$ < -4.0 are technologically of little interest. Indeed, as time evolves, they are really just roadkill. Would it be more interesting and meaningful to include more advanced systems, perhaps with lower overall performance, but higher efficiency, rather than low efficiency, low performing systems, in an overall list of leading supercomputers? 
